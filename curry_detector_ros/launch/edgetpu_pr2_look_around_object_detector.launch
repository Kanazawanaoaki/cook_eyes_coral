<launch>
  <arg name="INPUT_IMAGE"/>
  <arg name="IMAGE_TRANSPORT" default="raw"/>
  <arg name="device_id" default="0" />
  
  <!-- add my models -->
  <!-- <arg name="model_file" default="$(find curry_detector_ros)/models/20220303_look-around_rembg_and_robot_mask_test/output_tflite_graph_edgetpu.tflite"/> -->
  <!-- <arg name="label_file" default="$(find curry_detector_ros)/models/20220303_look-around_rembg_and_robot_mask_test/labels.txt"/> -->
  <!-- <arg name="model_file" default="$(find curry_detector_ros)/models/20220304_mask_aug_n1_rembg_and_mask_test-xml-config/output_tflite_graph_edgetpu.tflite"/> -->
  <!-- <arg name="label_file" default="$(find curry_detector_ros)/models/20220304_mask_aug_n1_rembg_and_mask_test-xml-config/labels.txt"/> -->
  <arg name="model_file" default="$(find curry_detector_ros)/models/20220304_mask_aug_n2_rembg_and_mask_test-xml-config/output_tflite_graph_edgetpu.tflite"/>
  <arg name="label_file" default="$(find curry_detector_ros)/models/20220304_mask_aug_n2_rembg_and_mask_test-xml-config/labels.txt"/>
  
  <node name="edgetpu_object_detector"
        pkg="coral_usb" type="edgetpu_object_detector.py"
        output="screen" respawn="true">
    <remap from="~input" to="$(arg INPUT_IMAGE)" />
    <rosparam subst_value="true" >
      model_file: $(arg model_file)
      label_file: $(arg label_file)
      image_transport: $(arg IMAGE_TRANSPORT)
      device_id: $(arg device_id)
    </rosparam>
  </node>
</launch>
